{% comment %}
Main Collection Section â€” Tek Matrix Theme (Home + Collection Compatible)
{% endcomment %}

{% assign current_collection = collection %}
{% if current_collection == nil %}
  {% assign current_collection = collections['all'] %}
{% endif %}

<section class="section main-collection">
  <div class="container">
    <h1>{{ section.settings.heading | default: current_collection.title }}</h1>

    {% if current_collection.description != blank %}
      <p class="collection-description">{{ current_collection.description }}</p>
    {% endif %}

    {% if current_collection.products_count > 0 %}
      <div class="grid grid--3-col">
        {% for product in current_collection.products %}
          <div class="product-card">
            <a href="{{ product.url }}">
              {{ product.featured_image | image_url: width: 500 | image_tag: class: 'product-image' }}
              <h3>{{ product.title }}</h3>
              <p class="price">{{ product.price | money }}</p>
            </a>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No products found in this collection.</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Main Collection (Universal)",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop All Products"
    }
  ],
  "presets": [
    {
      "name": "Main Collection (Universal)"
    }
  ]
}
{% endschema %}