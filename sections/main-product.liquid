<section class="section main-product">
  <div class="product-container">
    
    <!-- PRODUCT IMAGE -->
    <div class="product-media">
      {% if product.featured_media %}
        <img 
          src="{{ product.featured_media | image_url: width: 800 }}" 
          alt="{{ product.title }}" 
          class="product-image"
        >
      {% else %}
        <p>No product image available.</p>
      {% endif %}
    </div>

    <!-- PRODUCT INFO -->
    <div class="product-info">
      <h1 class="product-title">{{ product.title }}</h1>

      {% if product.price %}
        <p class="product-price">{{ product.price | money }}</p>
      {% endif %}

      {% if section.settings.show_vendor and product.vendor and product.vendor != "NoEnName_Null" %}
        <p class="product-vendor"><strong>Brand:</strong> {{ product.vendor }}</p>
      {% endif %}

      <!-- ADD TO CART -->
      <form method="post" action="/cart/add" class="add-to-cart-form">
        <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        {% if section.settings.show_quantity_selector %}
          <div class="quantity-wrapper">
            <label for="quantity">Qty:</label>
            <input 
              type="number" 
              id="quantity" 
              name="quantity" 
              value="1" 
              min="1" 
              class="quantity-input"
            >
          </div>
        {% endif %}
        <button type="submit" class="krishposa-btn">Add to Cart</button>
      </form>

      <!-- SPECIFICATIONS (COLLAPSIBLE) -->
      <details class="product-specs">
        <summary>Specifications</summary>
        <div class="spec-table">

          <p><strong>Brand:</strong> {{ product.vendor | default: "N/A" }}</p>
          <p><strong>Department:</strong> {{ product.metafields.custom.department_name | default: "General" }}</p>
          <p><strong>Origin:</strong> {{ product.metafields.custom.origin | default: "Unknown" }}</p>
          <p><strong>Training Site:</strong> {{ product.metafields.custom.training_site | default: "Gym or Home" }}</p>
          <p><strong>Type of Sport:</strong> {{ product.metafields.custom.type_of_sports | default: "Fitness / Strength" }}</p>
          <p><strong>Suitable For:</strong> {{ product.metafields.custom.suitable_for | default: "All athletes" }}</p>
          <p><strong>Usage Scenarios:</strong> {{ product.metafields.custom.usage_scenarios | default: "Gym, Home, Travel" }}</p>

        </div>
      </details>

      <!-- PRODUCT DESCRIPTION -->
      {% if product.description %}
        <div class="product-description">
          {{ product.description }}
        </div>
      {% endif %}

      <!-- SHARE BUTTONS -->
      {% if section.settings.show_share %}
        <div class="share-links">
          <p>Share:</p>
          <a href="https://www.facebook.com/sharer/sharer.php?u={{ shop.url }}{{ product.url }}" target="_blank">Facebook</a> |
          <a href="https://twitter.com/share?url={{ shop.url }}{{ product.url }}" target="_blank">X</a> |
          <a href="https://pinterest.com/pin/create/button/?url={{ shop.url }}{{ product.url }}" target="_blank">Pinterest</a>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Main Product",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_quantity_selector",
      "label": "Show quantity selector",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_vendor",
      "label": "Show vendor",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_share",
      "label": "Show share buttons",
      "default": true
    }
  ]
}
{% endschema %}